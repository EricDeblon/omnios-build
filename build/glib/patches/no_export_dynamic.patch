diff -wpruN '--exclude=*.orig' a~/meson.build a/meson.build
--- a~/meson.build	1970-01-01 00:00:00
+++ a/meson.build	1970-01-01 00:00:00
@@ -2025,6 +2025,8 @@ elif host_system == 'cygwin'
   export_dynamic_ldflags = ['-Wl,--export-all-symbols']
 elif host_system == 'darwin'
   export_dynamic_ldflags = []
+elif host_system == 'sunos'
+  export_dynamic_ldflags = []
 else
   export_dynamic_ldflags = ['-Wl,--export-dynamic']
 endif
diff -wpruN '--exclude=*.orig' a~/tests/meson.build a/tests/meson.build
--- a~/tests/meson.build	1970-01-01 00:00:00
+++ a/tests/meson.build	1970-01-01 00:00:00
@@ -45,14 +45,12 @@ tests = {
   'unicode-caseconv' : {},
   'unicode-encoding' : {},
   'module-test-library' : {
     'dependencies' : [libgmodule_dep],
-    'export_dynamic' : true,
     'source': 'module-test.c',
     'c_args': ['-DMODULE_TYPE="library"'],
   },
   'module-test-plugin' : {
     'dependencies' : [libgmodule_dep],
-    'export_dynamic' : true,
     'source': 'module-test.c',
     'c_args': ['-DMODULE_TYPE="plugin"'],
   },
