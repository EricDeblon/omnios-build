--- src/gcc/config/sol2.h~	2021-05-16 10:05:54.233757530 +0000
+++ src/gcc/config/sol2.h	2021-05-16 10:06:17.044708155 +0000
@@ -57,6 +57,7 @@
     do {						\
 	builtin_define_std ("unix");			\
 	builtin_define_std ("sun");			\
+	builtin_define ("__illumos__");			\
 	builtin_define ("__svr4__");			\
 	builtin_define ("__SVR4");			\
 	builtin_assert ("system=unix");			\
